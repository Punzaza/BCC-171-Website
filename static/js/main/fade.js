function easeInOut(t){if(t<0.5){return 8*Math.pow(t,4);}else{t=1-t;return 1-8*Math.pow(t,4);}}
function isContainerTouchingScreenBorder(containerNames){containerNames.forEach(containerName=>{const container=document.querySelector(`.${containerName}`);const containerRect=container.getBoundingClientRect();const viewportWidth=window.innerWidth;const viewportHeight=window.innerHeight;const containerCenterWidth=containerRect.left+(containerRect.width / 2);const containerCenterHeight=containerRect.top+(containerRect.height / 2);if((containerCenterWidth<=0||containerCenterWidth>=viewportWidth||containerCenterHeight<=0||containerCenterHeight>=viewportHeight)&&!container.classList.contains('hidden')){container.classList.remove('show');container.classList.add('hidden');}else if(containerCenterWidth>0&&containerCenterWidth<viewportWidth&&containerCenterHeight>0&&containerCenterHeight<viewportHeight&&container.classList.contains('hidden')){container.classList.remove('hidden');container.classList.add('show');}});}
window.addEventListener('scroll',()=>{const containerNames=['logo-wrapper','scroll-wrapper','time','countdown-wrapper','paperplane-3d','icons','video-container','box1','box2','box3','band2','band3','band4','concert-header','chapel-schedule','chapel-header','chapel-line','lakorn-header','lakorn-image','lakorn-logo1','lakorn-logo2','lakorn-story','chongko-header-name','chongko-location','chongko-image','chongko-first','chongko-second','activity-list','activity-highlights','activity-image','activity-condition','activity-name','activity-location','academic-logo','academic-desc-text','academic-name','academic-image','academic-location','game-list-container','game-name','game-image','game-location','game-time','history-name','history-location','history-image','history-price1','history-price2','history-ticket','history-time-first','history-time'];isContainerTouchingScreenBorder(containerNames);});let playing=false;function fadeup(elements,options,after){var classList=[];var marginStarts=[];var marginEnds=[];var durations=[];for(var i=0;i<elements.length;i++){var className=document.querySelector(elements[i]);classList.push(className);marginStarts.push(options[i].startPx);marginEnds.push(options[i].endPx);durations.push(options[i].millisecs);}
var startTimes=new Array(elements.length).fill(null);var maxDuration=Math.max.apply(null,durations);function animate(currentTime){for(var i=0;i<classList.length;i++){if(!startTimes[i]){startTimes[i]=currentTime;}
var elapsedTime=currentTime-startTimes[i];var progress=Math.min(elapsedTime / durations[i],1);var easeProgress=easeInOut(progress);var currentMargin=marginStarts[i]+(marginEnds[i]-marginStarts[i])*easeProgress;classList[i].style.marginTop=`${currentMargin}%`;}
if(currentTime-startTimes[0]<maxDuration){playing=true;window.requestAnimationFrame(animate);}else if(after&&typeof after==='function'){playing=false;after();}}
window.requestAnimationFrame(animate);function debounce(func,wait){let timeout;return function(){clearTimeout(timeout);timeout=setTimeout(()=>{func.apply(this,arguments);},wait);};}
window.addEventListener('resize',debounce(()=>{if(!isMobile){if(counting===true&&playing===true){window.cancelAnimationFrame(animate);startTimes.fill(null);countdown();}}},250));}